(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[80],{39933:function(e,s,t){"use strict";var l=t(85893);t(67294);var n=t(23298),o=t.n(n);let a=e=>{let{completed:s=20}=e;return(0,l.jsx)("div",{className:o().progress,children:(0,l.jsx)("span",{style:{width:"".concat(s,"%")}})})};s.Z=a},1491:function(e,s,t){"use strict";var l=t(85893);t(67294);var n=t(67301),o=t.n(n);let a=e=>{let{...s}=e;return(0,l.jsx)("div",{className:o().cover,...s,children:" "})};s.Z=a},51080:function(e,s,t){"use strict";t.d(s,{Z:function(){return Y}});var l=t(85893),n=t(38017),o=t(23742),a=t(51403),r=t(2438),c=t(69825),i=t(6229),d=t(25355),u=t(29161),_=t(41664),m=t.n(_),v=t(11163),x=t(67294),h=t(86893),p=t(31304),y=t.n(p),j=t(1491),f=t(63750),g=t(83253),N=t.n(g),C=t(13716),k=t.n(C);let w=e=>{let{isModalOpen:s,setIsModalOpen:t,content:n,children:o}=e,{isLoading:r,modules:c}=(0,d.s)(),i=e=>{t(!1)};return(0,l.jsxs)(N(),{isOpen:s,onRequestClose:()=>i(!1),overlayClassName:" react-modal-overlay ".concat(k().overlay," "),className:"".concat(k().modules," ").concat(k().fullscreen," react-modal-content"),ariaHideApp:!1,shouldCloseOnOverlayClick:!0,children:[(0,l.jsx)("header",{className:k().header,children:(0,l.jsxs)(a.Z,{type:"button",className:"small",onClick:()=>i(!1),children:[(0,l.jsx)(f.i1r,{})," Voltar para os conte\xfados"]})}),(0,l.jsx)("div",{className:"".concat(k().content," ").concat((r||(null==c?void 0:c.length)===0)&&k().flexRow),children:o})]})},b=x.memo(w);var R=t(47737),L=t.n(R),O=t(40782),I=t(39933),M=t(83868),Z=t(61582),E=t.n(Z);let S=(e,s)=>{let{module:t,...n}=e;return(0,l.jsxs)("div",{className:E().content,ref:s,...n,children:[t.cover_landscape?(0,l.jsx)("img",{src:t.cover_landscape,alt:t.name}):(0,l.jsx)(M.m,{}),(0,l.jsx)(I.Z,{completed:20})]})};var W=(0,x.forwardRef)(S),z=t(8193),B=t(92045),F=t.n(B);let P=e=>{let{side:s="left",className:t,...n}=e;return(0,l.jsx)("button",{type:"button",...n,className:"".concat("left"===s?F().moveLeft:F().moveRight," ").concat(t),children:"left"===s?(0,l.jsx)(z.kyg,{}):(0,l.jsx)(z.mGl,{})})};var U=t(25675),A=t.n(U);let q=(e,s)=>{let{module:t,disabled:n=!1,...o}=e;return(0,l.jsxs)("div",{className:"".concat(E().content," ").concat(E().landscape," ").concat(n&&E().disabled),...o,ref:s,children:[n&&(0,l.jsx)("div",{className:E().lockIcon,children:(0,l.jsx)(z.oF6,{})}),t.cover_portrait?(0,l.jsx)(A(),{src:t.cover_portrait,layout:"responsive",width:0,height:0,alt:t.name}):(0,l.jsx)(M.m,{})]})};var D=(0,x.forwardRef)(q);let H=e=>{let{type:s,slider:t=!0,title:n,modules:o}=e,{content:a}=(0,i.W)(),[r,c]=(0,x.useState)(0),[d,u]=(0,x.useState)(null),[_,m]=(0,x.useState)(10),[h,p]=(0,x.useState)(0),y=(0,v.useRouter)(),j=e=>{if(e.is_blocked){O.Am.error("Este conte\xfado ainda n\xe3o est\xe1 dispon\xedvel pra voc\xea.");return}y.push("/content/".concat(a.id,"/module/").concat(e.id,"/"))};(0,x.useEffect)(()=>{m(Math.round(window.innerWidth/2)),p(window.innerWidth)},[]),(0,x.useEffect)(()=>{t&&u(r<0?{marginLeft:"".concat(r,"px")}:null)},[r]);let f=o.map((e,t)=>{let n=e.is_blocked;return"portrait"===s?(0,l.jsx)(D,{module:e,disabled:n,onClick:()=>j(e)},t):(0,l.jsx)(W,{module:e,disabled:n,onClick:()=>j(e)},t)});return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:E().modulesContainer,children:[(0,l.jsx)("h1",{children:n}),(0,l.jsx)("div",{className:E().modules,children:(0,l.jsx)("div",{className:"".concat(E().contentList," ").concat(E().wrap),children:(0,l.jsx)(L(),{mouseTracking:!0,items:f,disableDotsControls:!0,autoWidth:!0,renderNextButton:()=>(0,l.jsx)(P,{side:"right"}),renderPrevButton:()=>(0,l.jsx)(P,{side:"left"})})})})]})})};var T=t(97028),K=t.n(T);let V=e=>{var s;let{isModalOpen:t,setIsModalOpen:_}=e,[p,f]=(0,x.useState)(null),[g,N]=(0,x.useState)(null),{fetch:C,isLoading:k,modules:w}=(0,d.s)(),{lastViewed:R,findLastViewed:L,isLoading:O}=(0,u.C)(),{content:I}=(0,i.W)(),{portal:M}=(0,c.V)(),Z=(0,v.useRouter)();return((0,x.useEffect)(()=>{(null==I?void 0:I.id)&&L()},[]),(0,x.useEffect)(()=>{if(I&&R&&(null==w?void 0:w.length)>0){var e,s,t;f({url:"/content/".concat(I.id,"/module/").concat(R.init_module?R.init_module:R.module_id,"/lesson/").concat(R.id),as:"/content/".concat(y()(I.name),"/module/").concat(null===(e=w.find(e=>e.id===R.module_id))||void 0===e?void 0:e.slug,"/lessson/").concat(R.slug)});let{contents:l,type:n}=(null==R?void 0:null===(s=R.itemable)||void 0===s?void 0:null===(t=s.elements)||void 0===t?void 0:t.find(e=>"video"===e.type))||{contents:null,type:null};"video"===n&&N({url:String(null==l?void 0:l.url).replace("autoplay=true","autoplay=false").replace("autoplay=1","autoplay=0"),type:null==l?void 0:l.type})}},[R,w,I]),k||!Z.isReady||(null==w?void 0:w.length)===1&&w[0].id!=Number(Z.query.moduleId))?(0,l.jsx)(b,{isModalOpen:t,setIsModalOpen:_,children:(0,l.jsx)("div",{className:K().modulesContainer,children:(0,l.jsx)(r.k,{fullPage:!0})})}):(null==w?void 0:w.length)!==0||k?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(b,{isModalOpen:t,setIsModalOpen:_,children:[M.theme_settings.cover_picture&&(0,l.jsx)(j.Z,{style:{minHeight:"60vh",backgroundImage:"url(".concat(null!==(s=M.theme_settings.cover_picture)&&void 0!==s?s:"",")"),backgroundSize:"cover"}}),(0,l.jsxs)("div",{className:K().modulesContainer,children:[O?(0,l.jsx)(r.k,{}):R&&p&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h1",{className:"mt-4",children:"Continue de onde parou"}),(0,l.jsxs)("div",{className:K().continueWatching,children:[g&&(0,l.jsx)(m(),{legacyBehavior:!0,href:null==p?void 0:p.url,children:(0,l.jsx)("div",{className:K().contentContainer,children:(0,l.jsxs)("div",{className:K().videoOverlay,children:[(0,l.jsx)("div",{className:K().overlay}),(0,l.jsx)(n.Z,{url:g.url,type:g.type})]})})}),(0,l.jsxs)("div",{className:K().description,children:[(0,l.jsxs)("small",{children:["M\xd3DULO ",R.module_name," - ",(0,l.jsxs)("small",{children:["AULA ",R.order]})]}),(0,l.jsx)("strong",{children:R.name}),(0,l.jsx)(m(),{legacyBehavior:!0,href:null==p?void 0:p.url,children:(0,l.jsxs)(a.Z,{onClick:()=>_(!1),children:["Continuar ",(0,l.jsx)(h.Rgz,{})," "]})})]})]})]}),(0,l.jsx)("div",{className:K().allContents,children:(null==w?void 0:w.length)>0&&(0,l.jsx)(H,{slider:!0,title:"Todos os M\xf3dulos",type:"portrait",modules:w})})]})]})}):(0,l.jsxs)(b,{isModalOpen:t,setIsModalOpen:_,children:[" ",(0,l.jsx)(o.Z,{type:"video"})," "]})};var Y=x.memo(V)},23298:function(e){e.exports={progress:"styles_progress__LjoSV"}},67301:function(e){e.exports={cover:"styles_cover__I5pqK"}},13716:function(e){e.exports={modules:"styles_modules__of_M3",fullscreen:"styles_fullscreen__W74bj",fixedFooter:"styles_fixedFooter__DwaQR",content:"styles_content__9NYHz",flexRow:"styles_flexRow__9_5Sz",code:"styles_code__iDvum",overlay:"styles_overlay__l_mh0",copied:"styles_copied__I5I2w",tag:"styles_tag__wdZbJ",copy:"styles_copy__9zIAU"}},92045:function(e){e.exports={moveLeft:"styles_moveLeft___Y0nz",moveRight:"styles_moveRight__pMgXT"}},61582:function(e){e.exports={modulesContainer:"styles_modulesContainer__s_UaU",modules:"styles_modules__PyEkY",arrow:"styles_arrow__l9oBT",contentList:"styles_contentList__gFdMZ",wrap:"styles_wrap__P778L",content:"styles_content__evmPk",landscape:"styles_landscape__EfPag",lockIcon:"styles_lockIcon__2i32q",disabled:"styles_disabled__Nuznl"}},97028:function(e){e.exports={modulesContainer:"styles_modulesContainer__0Lrw_",continueWatching:"styles_continueWatching__4sXRZ",contentContainer:"styles_contentContainer__orEBQ",videoOverlay:"styles_videoOverlay__yRB0_",overlay:"styles_overlay__bKUNL",description:"styles_description__Hevzn",allContents:"styles_allContents__aOKGC"}}}]);